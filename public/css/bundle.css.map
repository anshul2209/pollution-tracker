{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../AqiChart.svelte",
    "../../Advisory.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport axios from \"axios\";\n\timport { onMount } from 'svelte';\n\timport Pollution from './Pollution.svelte';\n\timport AqiChart from './AqiChart.svelte';\n\timport Advisory from './Advisory.svelte';\n\n\tconst ApiUrl = \"development\" === 'production' ? '' : 'http://localhost:3000';\n\tconsole.log('Api Url is', ApiUrl);\n\n\tlet title = '';\n\tlet queryparams = {\n\t\tcity: '',\n\t\tstate: ''\n\t};\n\tlet mainPollutant = '';\n\tlet aqi = '';\n\tlet last_update = '';\n\tlet address = '';\n\tlet expression = ''\n\n\tconst aqiMap = {\n        1: { color: 'Green', label: 'Good', advisory: 'Safe to go outside for a run or a Yoga maybe!' },\n        2: { color: 'Yellow', label: 'Moderate', advisory: 'Air quality is acceptable; however, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.' },\n        3: { color: 'Orange', label: 'Unhealthy for Sensitive Groups', advisory: 'Members of sensitive groups may experience health effects. The general public is not likely to be affected.' },\n        4: { color: 'Red', label: 'Unhealthy', advisory: 'Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects.' },\n        5: { color: 'Purple', label: 'Very Unhealthy', advisory: 'Health alert: everyone may experience more serious health effects.' },\n        6: { color: 'Maroon', label: 'Hazardous', advisory: 'Health warnings of emergency conditions. The entire population is more likely to be affected.' }\n    };\n\n\tconst getAQI = (pollutionList) => {\n\t\tconst PM2 = pollutionList\n\t\t\t.filter(obj => obj.pollutant_id === 'PM2.5')[0];\n\t\tconst PM10 = pollutionList\n\t\t\t.filter(obj => obj.pollutant_id === 'PM10')[0];\n\t\t\n\t\tif(PM2.pollutant_avg > PM10.pollutant_avg) {\n\t\t\tmainPollutant = PM2.pollutant_id;\n\t\t\taqi = PM2.pollutant_avg;\n\t\t\tlast_update = PM2.last_update;\n\t\t\taddress = `${PM2.station}, ${PM2.city}, ${PM2.state}, ${PM2.country}`\n\t\t}\n\t\telse{\n\t\t\tmainPollutant = PM10.pollutant_id;\n\t\t\taqi = PM10.pollutant_avg;\n\t\t\tlast_update = PM10.last_update;\n\t\t\taddress = `${PM10.station}, ${PM10.city}, ${PM10.state}, ${PM10.country}`\n\t\t}\t\n\t\tfindAdvisory(aqi);\t\n\t}\n\tconst findAdvisory = (aqi) => {\n        if(aqi) {\n            aqi = parseInt(aqi, 10);\n            switch(true){\n                case aqi <=50: expression = 1; break;\n                case aqi <=100: expression = 2; break;\n                case aqi <=150: expression = 3; break;\n                case aqi <=200: expression = 4; break;\n                case aqi <=300: expression = 5; break;\n                default : expression = 6;\n            }\n        }\n\t}\n\n\tlet records = [];\n\tconst handleClick = () => {\n\t\taxios.get(`${ApiUrl}/api/pollution`, { params: queryparams })\n\t\t.then(res => {\n\t\t\tconst result = res.data;\n\t\t\ttitle = result.title;\n\t\t\trecords = result.records;\n\t\t\tgetAQI(records);\n\t\t})\n\t\t.catch(err => console.log('err is', err));\n\t}\n\tonMount(() => {\n\t\thandleClick();\n\t\tsetInterval(handleClick, 10000)\n\t});\n\n\n</script>\n\n<section class=\"filter\">\n\t<h2>Real time Air Quality Index of <span>{address}</span></h2>\n\t<!-- <div class=\"form\">\n\t\t<input bind:value={queryparams.city} placeholder=\"enter the city\">\n\t\t<input bind:value={queryparams.state} placeholder=\"enter the state\">\n\t\t<button on:click={handleClick}>\n\t\t\tClick me\n\t\t</button>\n\t</div> -->\n</section>\n{#if mainPollutant && aqi}\n\t<div class=\"locationinfo\">\n\t\t<label>Last Updated On: {last_update}</label>\n\t</div>\n\t<main class=\"wrapper\">\n\t\t<div class=\"left\">\n\t\t\t<div class=\"chart\">\n\t\t\t\t<AqiChart aqi={aqi} color={aqiMap[expression].color} />\n\t\t\t\t<div class=\"label_Data\">\n\t\t\t\t\t<label>Main Pollutant is <span>{mainPollutant}</span></label>\n\t\t\t\t\t<label>AQI is <span>{aqi}</span></label>\n\t\t\t\t\t<label>{`Air Quality is ${aqiMap[expression].label}`}</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- <div class=\"pollution_stats\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<th>Pollutant:</th>\n\t\t\t\t\t\t<th>Minimum</th>\n\t\t\t\t\t\t<th>Maximum</th>\n\t\t\t\t\t\t<th>Average</th>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{#each records as record}\n\t\t\t\t\t\t\t<Pollution pollutionObj={record} />\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div> -->\n\t\t</div>\n\t\t<div class=\"right\">\n\t\t\t<Advisory aqiMap={aqiMap} expression={expression}/>\n\t\t</div>\n\t</main>\n{/if}\n\n\n\n<style>\n\t.filter{\n\t\ttext-align: center;\n\t}\n\t.locationinfo{\n\t\tmargin-top: 20px;\n\t\tpadding: 10px;\n\t\ttext-align: right;\n\t}\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-evenly;\n\t}\n\t.visual_data{\n\t\tdisplay: flex;\n\t\tjustify-content: space-evenly;\n\t}\n\t.polluton_details{\n\t\t/* display: flex;\n\t\tflex-wrap: wrap; */\n\t\tmargin-top: 50px;\n\t\t/* justify-content: space-around; */\n\t}\n\t.label_Data{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: start;\n\t}\n\tlabel{\n\t\tdisplay: block;\n\t}\n\th1 {\n\t\tcolor: #ff3e00;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 4em;\n\t\tfont-weight: 100;\n\t}\n\t.chart{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>",
    "<style>\n    .chart{\n        max-width: 300px;\n    }\n</style>\n<div class=\"chart\">\n    <canvas id=\"aqichart\"></canvas>\n</div>\n\n<script>\n    export let aqi;\n    export let color;\n\n    import { onMount } from 'svelte';\n\n    onMount(renderChart);\n\n    function renderChart() {\n        console.log('called', aqi);\n\t\tvar data = {\n            labels: [ `AQI: ${aqi}`],\n            datasets: [\n                {\n                    data: [ aqi, 300 - (aqi)],\n                    backgroundColor: [\n                        color,\n                        \"#ddd\",\n                    ],\n                    // hoverBackgroundColor: [\n                    //     \"#FF6384\",\n                    //     \"#36A2EB\",\n                    // ]\n                }]\n        };\n\n        var ctx = document.getElementById(\"aqichart\");\n\n        // And for a doughnut chart\n        var myDoughnutChart = new Chart(ctx, {\n            type: 'doughnut',\n            data: data,\n            options: {\n                rotation: 1 * Math.PI,\n                circumference: 1 * Math.PI,\n                events: []\n            },\n            centerText: {\n                display: true,\n                text: \"280\"\n            }\n        });\n\t}\n</script>",
    "<style>\n    .emoji1{\n        background: url('/images/aqiemoji.png') no-repeat -7px -16px;\n        width: 150px;\n        height: 162px;\n        background-size: cover;\n    }\n    .emoji2{\n        background: url('/images/aqiemoji.png') no-repeat -162px -28px;\n        width: 150px;\n        height: 167px;\n        background-size: cover;\n\n    }\n    .emoji3{\n        background: url('/images/aqiemoji.png') no-repeat -308px -29px;\n        width: 182px;\n        background-size: cover;\n        height: 167px;\n    }   \n    .emoji4{\n        background: url('/images/aqiemoji.png') no-repeat -460px -29px;\n        width: 179px;\n        background-size: cover;\n        height: 164px;\n    }\n    .emoji5{\n        background: url('/images/aqiemoji.png') no-repeat -650px -26px;\n        background-size: cover;\n        width: 177px;\n        height: 171px;\n    }\n    .emoji6{\n        background: url('/images/aqiemoji.png') no-repeat -909px -20px;\n        width: 176px;\n        background-size: cover;\n        height: 189px;\n    }\n    .chart_wrapper{\n        display: flex;\n        align-items: center;\n        \n    }\n    .details{\n        width: 500px;\n        padding: 20px;\n        box-sizing: border-box;\n        color: white;\n        background: linear-gradient(to right, rgb(255, 153, 102), rgb(255, 94, 98));\n    }\n    label{\n        font-size: 32px;\n        font-weight: 700;\n        line-height: 56px;\n        font-family: 'Special Elite', cursive;\n\n    }\n\n    section{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n</style>\n\n<section>\n    {#if expression}\n        <div class={`emoji${expression}`} />\n        <div class=\"details\">\n            <!-- <label>{`Air quality is ${aqiMap[expression].label}`}</label> -->\n            <label>{advisory}</label>\n        </div>\n    {/if}\n</section>\n\n<script>\n    import { onMount } from 'svelte';\n    export let expression;\n    export let aqiMap;\n\n    onMount(typeWriter);\n    let i = 0;\n    let advisory = '';\n    let txt = aqiMap[expression].advisory; /* The text */\n    var speed = 50; /* The speed/duration of the effect in milliseconds */\n\n    function typeWriter() {\n        if (i < txt.length) {\n            advisory += txt.charAt(i);\n            i++;\n            setTimeout(typeWriter, speed);\n        }\n    }\n</script>"
  ],
  "names": [],
  "mappings": "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"
}